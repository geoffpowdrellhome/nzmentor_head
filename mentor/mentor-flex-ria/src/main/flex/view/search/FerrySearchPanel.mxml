<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml"
         xmlns:components="components.*"
         creationComplete="init();"
         styleName="ezygroupheader"
         verticalGap="0"
         width="100%"
         height="100%">

    <mx:Script source="FerrySearch.as"/>
    <mx:Style source="styles/EzyBookStyle.css"/>

    <mx:TabNavigator width="100%" height="100%" id="searchTabNavigator"
                     styleName="ezygroupheader">
        <mx:Canvas label="Ferry Search" width="100%" height="100%" styleName="ezygroupheader">
            <mx:VDividedBox xmlns:mx="http://www.adobe.com/2006/mxml"
                            xmlns:components="components.*"
                            verticalGap="0"
                            creationComplete="init();"
                            width="100%"
                            height="100%">

                <mx:VBox width="100%" height="177" styleName="ezygroupheader">
                    <mx:Canvas left="4"
                               label="Ferries" 
                               top="4"                               
                               width="600"
                               height="162"
                               styleName="ezycanvas"
                               backgroundAlpha="0.15" 
                               cornerRadius="20"
                               backgroundImage="assets/images/products/Boat_256x256.png"
                               id="searchParamCanvas">

                        <mx:Label x="6.5" y="12.5" text="From" styleName="ezylabel"/>
                        <mx:ComboBox id="pickupLocationComboBox" x="68.5" y="10" width="248"
                                     styleName="ezycombobox"></mx:ComboBox>

                        <mx:Label x="6.5" y="42" text="To" styleName="ezylabel" width="44"/>
                        <mx:ComboBox id="dropoffLocationComboBox" x="68.5" y="39.5" width="248"
                                     styleName="ezycombobox"></mx:ComboBox>

                        <mx:Label x="6.5" y="71" text="Date" styleName="ezylabel"/>
                        <mx:DateField tabIndex="2" id="departingDate"
                                      formatString="DD/MM/YYYY"
                                      yearNavigationEnabled="true"
                                      x="68.5" y="71" height="20"
                                      styleName="ezydatefield"/>

                        <mx:Label x="6.5" y="102" text="Keyword" styleName="ezylabel"/>
                        <mx:TextArea x="68.5" y="102" height="20.5" width="181" id="keywordTextAreaBox"
                                     styleName="ezutextarea" maxChars="20"/>

                        <mx:Canvas x="338.5" y="10" width="249.5" height="104" borderStyle="solid" borderColor="#67A95E"
                                   id="dateRangeCanvas" cornerRadius="20">
                            <mx:Label x="10" y="8" text="Adults" styleName="ezylabel"/>
                            <mx:ComboBox x="69" y="7" id="adultsComboBox" labelField="@label"
                                         change="updateTotalPax(event)" styleName="ezycombobox"
                                         width="63"></mx:ComboBox>

                            <mx:Label x="10" y="38.5" text="Children" styleName="ezylabel"/>
                            <mx:ComboBox x="69" y="38" id="childrenComboBox" labelField="@label"
                                         change="updateTotalPax(event)" styleName="ezycombobox"
                                         width="63"></mx:ComboBox>

                            <mx:Label x="10" y="69.5" text="Infants" styleName="ezylabel"/>
                            <mx:ComboBox x="69" y="69" id="infantsComboBox" labelField="@label"
                                         change="updateTotalPax(event)" styleName="ezycombobox"
                                         width="63"></mx:ComboBox>

                            <mx:Label x="140" y="8" text="Total Pax" styleName="ezylabel"/>
                            <mx:TextInput tabIndex="4" x="206" y="7" width="32"
                                          styleName="ezytextbox"
                                          height="20"
                                          id="totalPaxTextBox"
                                          maxChars="2"
                                          editable="false"
                                          enabled="true"
                                          backgroundColor="#E1DDDD"/>
                        </mx:Canvas>

                        <mx:Button x="380" y="132" label="Show Ferries" styleName="ezybigbutton"
                                   click="validateForm(event)" id="searchFormButton" height="21" width="138">
                            <mx:icon>@Embed(source='../../assets/images/Find_20x20.png')</mx:icon>
                        </mx:Button>
                        <mx:Button x="527" y="132"
                                   label="Clear"
                                   styleName="ezybigbutton"
                                   click="resetForm(event)"
                                   id="resetFormButton" height="21">
                        </mx:Button>
                    </mx:Canvas>
                </mx:VBox>
                <components:SearchResultsDetail id="searchResultsDetail"/>
            </mx:VDividedBox>
        </mx:Canvas>

        <components:LocateItemTypeOnMapPanel id="locateItemTypeOnMapPanel"/>

    </mx:TabNavigator>

    <mx:NumberValidator id="pickupLocationValidator"
                        source="{pickupLocationComboBox}"
                        lowerThanMinError="This field is required."
                        property="selectedIndex" minValue="0">
    </mx:NumberValidator>
    
    <mx:DateValidator id="departingDateValidator"
                      source="{departingDate}"
                      property="text"
                      allowedFormatChars="/">
    </mx:DateValidator>

    <mx:NumberValidator id="adultsValidator"
                        source="{adultsComboBox}"
                        lowerThanMinError="This field is required."
                        property="selectedIndex" minValue="0">
    </mx:NumberValidator>

</mx:VBox>
